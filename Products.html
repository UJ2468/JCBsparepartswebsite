<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heavy Equipment & JCB Spare Parts Supplier | Global Parts Export</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Sora:wght@100..800&family=Teko:wght@300..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css" />
    <Link rel="stylesheet" href="css/media.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>

<body class="bg-light">
    <header class="container-fluid ">
        <div class="container px-3">

            <nav class="navbar navbar-expand-md"
                style="background: linear-gradient(135deg, rgba(20, 174, 92, 0.5), rgba(13, 125, 66, 0.5)); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(12px); box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.25); border-radius: 12px;">
                <div class="container-fluid">

                <a class="navbar-brand" href="#">
                    <img src="media/Logo.png" alt="logo" class="img-fluid" style="max-height: 50px;">
                </a>


                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                    aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>


                <div class="collapse navbar-collapse" id="navbarContent">
                    <ul class="navbar-nav mx-auto mb-lg-0 gap-lg-3 text-center">
                        <li class="nav-item">
                            <a class="nav-link fs-4 " href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4" href="index.html#about">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4" href="#products">Products</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link fs-4" href="#contact">Contact</a>
                        </li>
                    </ul>
                    <div class="d-flex justify-content-center  mt-lg-0">
                        <button class="NAVBTN">Get a Quote</button>
                    </div>
                </div>
        </div>
        </nav>
        </div>
    </header>

    <section class="producthero-section align-items-center position-relative">
        <div class="container">
            <div class="row">
                <!-- Left Content Box -->
                <div class="d-flex align-items-center justify-content-center producthero-text flex-column">
                    <h1 class="title">Our Products</h1>
                </div>
            </div>
        </div>
    </section>

    <section id="products" class="product-section py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="mb-4">JCB Spare Parts Browse</h2>

                <!-- Category Filter Section -->
                <div class="category-filter">
                    <div class="row">
                        <div class="col-12">
                            <div class="d-flex flex-wrap justify-content-center">
                                <button class="category-btn active" data-category="all">
                                    <i class="fas fa-th-large"></i>
                                    <span class="btn-text">All Products</span>
                                    <span class="category-count" id="count-all">0</span>
                                </button>

                                <!-- Category buttons will be generated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="d-flex flex-wrap justify-content-center">
                        <div class="hero-search-wrapper mb-5">
                            <div class="search-input-container">
                                <i class="fas fa-search search-icon"></i>
                                <input type="text" class="hero-search-box" id="searchBox"
                                    placeholder="Search JCB spare parts...">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Products Grid -->
            <div class="row justify-content-center" id="productGrid">

                <!-- Products will be generated by JavaScript -->
            </div>
        </div>
    </section>


    <!-- Contact & Map Section -->
    <section class="bg-white py-5" id="contact">
        <div class="container">
            <div class="row g-4 contact-row">
                <!-- Map -->
                <div class="col-md-6 map-container">
                    <iframe src="https://www.google.com/maps?q=Your+Shop+Location&output=embed" allowfullscreen
                        loading="lazy"></iframe>
                </div>

                <!-- Contact Form -->
                <div class="col-md-6 form-container">
                    <div>
                        <h2 style="color: white; text-align: center; margin-bottom: 0.5rem; font-weight: bold;">
                            Drop Us A Line
                        </h2>
                        <p style="color: white; text-align: center; margin-bottom: 2rem; opacity: 0.9;">
                            Contact us for any questions or get Quote
                        </p>

                        <div class="success-message" id="successMessage">
                            Thank you! Your message has been sent successfully.
                        </div>

                        <form id="contactForm" novalidate>
                            <!-- Honeypot for bot protection -->
                            <input type="text" name="website" style="display: none;" tabindex="-1">

                            <!-- Name Field -->
                            <input type="text" id="name" name="name" class="form-control" placeholder="Name *" required
                                maxlength="50">
                            <div class="error-message" id="nameError"></div>

                            <!-- Email Field -->
                            <input type="email" id="email" name="email" class="form-control" placeholder="Email *"
                                required maxlength="100">
                            <div class="error-message" id="emailError"></div>

                            <!-- Phone Field with Country Code -->
                            <div class="input-group">
                                <select name="country_code" id="countrySelect" class="country-select" required>
                                    <option value="">Select</option>
                                    <option value="+91">ðŸ‡®ðŸ‡³ +91</option>
                                    <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
                                    <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
                                    <option value="+86">ðŸ‡¨ðŸ‡³ +86</option>
                                    <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
                                    <option value="+49">ðŸ‡©ðŸ‡ª +49</option>
                                    <option value="+33">ðŸ‡«ðŸ‡· +33</option>
                                    <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
                                    <option value="+971">ðŸ‡¦ðŸ‡ª +971</option>
                                    <option value="+966">ðŸ‡¸ðŸ‡¦ +966</option>
                                </select>
                                <input type="tel" id="phone" name="phone" class="form-control phone-input"
                                    placeholder="WhatsApp Number *" required maxlength="15">
                            </div>
                            <div class="error-message" id="phoneError"></div>

                            <!-- Subject Field -->
                            <input type="text" id="subject" name="subject" class="form-control" placeholder="Subject"
                                maxlength="100">

                            <!-- Message Field -->
                            <textarea id="message" name="message" class="form-control" rows="4" placeholder="Message *"
                                required maxlength="500" style="resize: vertical;"></textarea>
                            <div class="char-counter" id="charCounter">500 characters remaining</div>
                            <div class="error-message" id="messageError"></div>

                            <input type="hidden" id="submitToken" name="token" value="">
                        </form>
                    </div>

                    <!-- Submit button -->
                    <div style="text-align: center; margin-top: auto;">
                        <button type="submit" form="contactForm" class="custom-submit-btn" id="submitBtn">
                            Send Message
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer class=" Footer py-5 bg-dark text-white">
        <div class="container">
            <div class="row gy-4">
                <div class="col-md-3">
                    <h5>Avinash Traders</h5>
                    <p>Your trusted partner in JCB spare parts and construction equipment solutions.</p>
                    <p><strong>ðŸ‡®ðŸ‡³ India Office Corporate HQ</strong><br>No. 28, Industrial Estate Road, Sector
                        37,
                        Gurugram, Haryana â€“ 122001, India</p>
                    <p>Tel: +91 (0)98765 43210</p>
                    <p>Email: info@Avinashspares.com</p>
                </div>
                <div class="col-md-3">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home" class="text-light text-decoration-none">Home</a></li>
                        <li><a href="#testimony" class="text-light text-decoration-none">Testimony</a></li>
                        <li><a href="#about" class="text-light text-decoration-none">About us</a></li>
                        <li><a href="#contact" class="text-light text-decoration-none">Contact us</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Products</h5>
                    <ul class="list-unstyled">
                        <li>Hydraulic Attachments</li>
                        <li>Breaker Tools</li>
                        <li>Undercarriage Parts</li>
                        <li>Heavy-Duty</li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Connect with us</h5>
                    <p>Tel: +91 (0)98765 43210</p>
                    <div class="social-links mt-3">
                        <a href="https://facebook.com/yourpage" target="_blank" class="social-icon">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- Add this script before your closing </body> tag -->
    <script>
        class ProductCatalog {
            constructor() {
                this.products = [
                    // Pivot Pins
                    { id: 1, category: "pivot-pins", title: "Heavy Duty Pivot Pin PV-001", material: "Hardened steel alloy", application: "JCB 3DX and 4DX backhoe loader", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 2, category: "pivot-pins", title: "Standard Pivot Pin PV-002", material: "Carbon steel", application: "JCB excavator models 205-220", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 3, category: "pivot-pins", title: "Premium Pivot Pin PV-003", material: "Stainless steel", application: "Heavy-duty construction equipment", image: "media/PRODUCTIMAGES/JCB.png" },

                    // JCB Bushes
                    { id: 4, category: "jcb-bushes", title: "Arm Bush BSH-101", material: "Bronze composite", application: "JCB 3CX arm assembly", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 5, category: "jcb-bushes", title: "Boom Bush BSH-102", material: "Steel-backed bronze", application: "JCB boom pivot points", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 6, category: "jcb-bushes", title: "Bucket Bush BSH-103", material: "Polymer composite", application: "Bucket pivot connections", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 7, category: "jcb-bushes", title: "Stabilizer Bush BSH-104", material: "Rubber-steel composite", application: "JCB stabilizer legs", image: "media/PRODUCTIMAGES/JCB.png" },

                    // Filters
                    { id: 8, category: "filters", title: "Hydraulic Filter HF-201", material: "Synthetic fiber media", application: "JCB hydraulic systems", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 9, category: "filters", title: "Engine Air Filter AF-202", material: "Pleated paper element", application: "JCB diesel engines", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 10, category: "filters", title: "Fuel Filter FF-203", material: "Multi-layer filtration", application: "JCB fuel injection systems", image: "media/PRODUCTIMAGES/JCB.png" },

                    // Hydraulic Hoses & Pipes
                    { id: 11, category: "hyd-hoses", title: "High Pressure Hose HP-301", material: "Steel wire reinforced rubber", application: "JCB hydraulic circuits", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 12, category: "hyd-hoses", title: "Return Line Hose RL-302", material: "Fabric reinforced rubber", application: "JCB hydraulic return systems", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 13, category: "hyd-hoses", title: "Suction Hose SH-303", material: "Spiral wire reinforcement", application: "JCB hydraulic pump suction", image: "media/PRODUCTIMAGES/JCB.png" },

                    // Seal Kits
                    { id: 14, category: "seal-kits", title: "Cylinder Seal Kit SK-401", material: "Polyurethane seals", application: "JCB hydraulic cylinders", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 15, category: "seal-kits", title: "Pump Seal Kit SK-402", material: "Nitrile rubber", application: "JCB hydraulic pumps", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 16, category: "seal-kits", title: "Motor Seal Kit SK-403", material: "Fluorocarbon seals", application: "JCB hydraulic motors", image: "media/PRODUCTIMAGES/JCB.png" },

                    // Fabrication Items
                    { id: 17, category: "fabrication", title: "Welded Bracket FB-501", material: "Mild steel fabricated", application: "JCB attachment mounting", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 18, category: "fabrication", title: "Support Frame FB-502", material: "High tensile steel", application: "JCB structural components", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 19, category: "fabrication", title: "Custom Plate FB-503", material: "Laser cut steel", application: "JCB reinforcement parts", image: "media/PRODUCTIMAGES/JCB.png" },

                    // Buckets
                    { id: 20, category: "buckets", title: "Digging Bucket BK-601", material: "Hardox steel construction", application: "JCB excavator digging", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 21, category: "buckets", title: "Rock Bucket BK-602", material: "Abrasion resistant steel", application: "JCB heavy-duty excavation", image: "media/PRODUCTIMAGES/JCB.png" },
                    { id: 22, category: "buckets", title: "Grading Bucket BK-603", material: "High strength steel", application: "JCB precision grading work", image: "media/PRODUCTIMAGES/JCB.png" },

                    // Add more products for remaining categories...
                    // You can continue adding products following the same pattern
                ];

                this.categories = [
                    { id: "pivot-pins", name: "Pivot Pins", icon: "fas fa-thumbtack" },
                    { id: "jcb-bushes", name: "JCB Bushes", icon: "fas fa-circle" },
                    { id: "filters", name: "Filters", icon: "fas fa-filter" },
                    { id: "hyd-hoses", name: "Hyd. Hoses & Pipes", icon: "fas fa-grip-lines" },
                    { id: "seal-kits", name: "Seal Kits", icon: "fas fa-toolbox" },
                    { id: "fabrication", name: "Fabrication Items", icon: "fas fa-hammer" },
                    { id: "buckets", name: "Buckets", icon: "fas fa-square" },
                    { id: "pads", name: "Pads", icon: "fas fa-circle" },
                    { id: "electrical", name: "Electrical Parts", icon: "fas fa-plug" },
                    { id: "casting", name: "Casting Items", icon: "fas fa-industry" },
                    { id: "tooth", name: "Tooth", icon: "fas fa-angle-right" },
                    { id: "misc", name: "Misc.", icon: "fas fa-tools" },
                    { id: "jcb-spare", name: "JCB Spare Parts", icon: "fas fa-cogs" },
                    { id: "bucket-attachments", name: "Bucket Attachments", icon: "fas fa-link" },
                    { id: "break-plates", name: "Break Plates", icon: "fas fa-square" },
                    { id: "transmissions", name: "Transmissions & Gear Items", icon: "fas fa-cog" },
                    { id: "breaker-tools", name: "Breaker Tools", icon: "fas fa-wrench" },
                    { id: "hyd-attachments", name: "Hyd. Attachments", icon: "fas fa-paperclip" },
                    { id: "undercarriage", name: "Undercarriage Parts", icon: "fas fa-truck" }
                ];

                this.currentCategory = 'all';
                this.searchTerm = '';

                this.init();
                this.initQuoteForm();
            }

            init() {
                this.generateCategoryButtons();
                this.renderProducts();
                this.setupEventListeners();
                this.updateCategoryCounts();
            }

            generateCategoryButtons() {
                const categoryContainer = document.querySelector('.category-filter .d-flex');
                const allButton = categoryContainer.querySelector('.category-btn[data-category="all"]');

                this.categories.forEach(category => {
                    const button = document.createElement('button');
                    button.className = 'category-btn';
                    button.setAttribute('data-category', category.id);
                    button.innerHTML = `
            <i class="${category.icon}"></i>
            <span class="btn-text">${category.name}</span>
            <span class="category-count" id="count-${category.id}">0</span>
        `;
                    categoryContainer.appendChild(button);
                });
            }

            renderProducts() {
                const productGrid = document.getElementById('productGrid');
                const filteredProducts = this.getFilteredProducts();

                productGrid.innerHTML = '';

                filteredProducts.forEach(product => {
                    const productCard = this.createProductCard(product);
                    productGrid.appendChild(productCard);
                });
            }

            createProductCard(product) {
                const col = document.createElement('div');
                col.className = 'col-lg-4 col-md-6 col-sm-12 mb-4 product-card d-flex justify-content-center';
                col.setAttribute('data-category', product.category);
                col.setAttribute('data-title', product.title.toLowerCase());

                col.innerHTML = `
            <div class="card custom-card">
                <div class="image-container">
                    <img src="${product.image}" alt="${product.title}">
                </div>
                <div class="card-content">
                    <h5 class="product-title">${product.title}</h5>
                    <div class="material">
                        <span class="label">Material:</span> ${product.material}
                    </div>
                    <div class="application">
                        <span class="label">Application:</span> ${product.application}
                    </div>
                    <div class="card-footer-custom">
                        <button class="NAVBTN">Request Quotes</button>
                        <span class="stock-badge">
                            <i class="fa-solid fa-inbox"></i>In stock
                        </span>
                    </div>
                </div>
            </div>
        `;

                return col;
            }

            getFilteredProducts() {
                let filtered = this.products;

                if (this.currentCategory !== 'all') {
                    filtered = filtered.filter(product => product.category === this.currentCategory);
                }

                if (this.searchTerm) {
                    filtered = filtered.filter(product =>
                        product.title.toLowerCase().includes(this.searchTerm.toLowerCase()) ||
                        product.material.toLowerCase().includes(this.searchTerm.toLowerCase()) ||
                        product.application.toLowerCase().includes(this.searchTerm.toLowerCase())
                    );
                }

                return filtered;
            }

            setupEventListeners() {
                // Category buttons
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('category-btn') || e.target.parentElement.classList.contains('category-btn')) {
                        const button = e.target.classList.contains('category-btn') ? e.target : e.target.parentElement;
                        const category = button.getAttribute('data-category');
                        this.filterByCategory(category);
                    }

                    // Quote button functionality - THIS IS THE KEY PART
                    // Quote button functionality - THIS IS THE KEY PART
                    if (e.target.classList.contains('NAVBTN') || e.target.closest('.NAVBTN')) {
                        e.preventDefault();
                        const productCard = e.target.closest('.product-card');
                        this.openQuoteModal(productCard);
                    }


                    // Close quote modal
                    if (e.target.id === 'closeQuote' || e.target.closest('#closeQuote')) {
                        this.closeQuoteModal();
                    }

                    // Close on overlay click
                    if (e.target.id === 'quoteOverlay') {
                        this.closeQuoteModal();
                    }
                });
                // Search functionality
                const searchBox = document.getElementById('searchBox');
                searchBox.addEventListener('input', (e) => {
                    this.searchTerm = e.target.value;
                    this.renderProducts();
                });

            }
            openQuoteModal(productCard) {
                const selectedProduct = document.getElementById('selectedProduct');

                if (productCard) {
                    // Product-specific quote
                    const title = productCard.querySelector('.product-title').textContent;
                    const material = productCard.querySelector('.material').textContent;
                    const application = productCard.querySelector('.application').textContent;

                    selectedProduct.innerHTML = `
            <h4>${title}</h4>
            <p><strong>Material:</strong> ${material.replace('Material:', '').trim()}</p>
            <p><strong>Application:</strong> ${application.replace('Application:', '').trim()}</p>
        `;
                } else {
                    // General quote request
                    selectedProduct.innerHTML = `
            <h4>General Quote Request</h4>
            <p>Please fill out the form below for a custom quote on our JCB spare parts.</p>
        `;
                }

                document.getElementById('quoteOverlay').classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            closeQuoteModal() {
                document.getElementById('quoteOverlay').classList.remove('active');
                document.body.style.overflow = 'auto';
                document.getElementById('quoteForm').reset();

                // Clear any error messages
                document.querySelectorAll('.error-message-quote').forEach(el => {
                    el.style.display = 'none';
                });

                // Hide success message
                const successMsg = document.querySelector('.success-message-quote');
                if (successMsg) {
                    successMsg.style.display = 'none';
                }
            }

            initQuoteForm() {
                this.generateToken();
                this.setupQuoteValidation();
                this.detectCountry();

                // Form submission
                document.getElementById('quoteForm').addEventListener('submit', (e) => {
                    this.handleQuoteSubmission(e);
                });
            }

            generateToken() {
                const token = Math.random().toString(36).substring(2) + Date.now().toString(36);
                const tokenField = document.querySelector('#quoteForm input[name="token"]');
                if (tokenField) {
                    tokenField.value = token;
                }
            }

            detectCountry() {
                fetch('https://ipapi.co/json/')
                    .then(response => response.json())
                    .then(data => {
                        const countryCode = data.country_calling_code;
                        const select = document.querySelector('#quoteForm select[name="country_code"]');
                        const option = select.querySelector(`option[value="${countryCode}"]`);
                        if (option) {
                            option.selected = true;
                        } else {
                            select.value = '+91';
                        }
                    })
                    .catch(() => {
                        document.querySelector('#quoteForm select[name="country_code"]').value = '+91';
                    });
            }

            setupQuoteValidation() {
                const fields = ['name', 'email', 'phone'];
                fields.forEach(fieldName => {
                    const field = document.querySelector(`#quoteForm input[name="${fieldName}"]`);
                    if (field) {
                        field.addEventListener('input', () => this.validateQuoteField(fieldName));
                        field.addEventListener('blur', () => this.validateQuoteField(fieldName));
                    }
                });

                // Country code validation
                document.querySelector('#quoteForm select[name="country_code"]').addEventListener('change', () => {
                    this.validateQuoteField('phone');
                });

                // Message character counter
                const messageField = document.querySelector('#quoteForm textarea[name="message"]');
                if (messageField) {
                    messageField.addEventListener('input', () => this.updateCharCounterQuote());
                }
            }

            validateQuoteField(fieldName) {
                const field = document.querySelector(`#quoteForm input[name="${fieldName}"]`);
                const value = field.value.trim();
                let isValid = true;
                let errorMessage = '';

                switch (fieldName) {
                    case 'name':
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Name is required';
                        } else if (value.length < 2) {
                            isValid = false;
                            errorMessage = 'Name must be at least 2 characters';
                        } else if (!/^[A-Za-z\s.'-]+$/.test(value)) {
                            isValid = false;
                            errorMessage = 'Name can only contain letters and spaces';
                        }
                        break;

                    case 'email':
                        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Email is required';
                        } else if (!emailRegex.test(value)) {
                            isValid = false;
                            errorMessage = 'Please enter a valid email';
                        }
                        break;

                    case 'phone':
                        const countryCode = document.querySelector('#quoteForm select[name="country_code"]').value;
                        if (countryCode === '') {
                            isValid = false;
                            errorMessage = 'Please select a country code';
                        } else if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Phone number is required';
                        } else {
                            const phoneRegex = /^[0-9]{6,15}$/;
                            const cleanPhone = value.replace(/[\s\-\(\)]/g, '');
                            if (!phoneRegex.test(cleanPhone)) {
                                isValid = false;
                                errorMessage = 'Phone number must be 6-15 digits only';
                            }
                        }
                        break;
                }

                this.showQuoteValidationState(fieldName, isValid, errorMessage);
                return isValid;
            }

            showQuoteValidationState(fieldName, isValid, errorMessage) {
                const field = document.querySelector(`#quoteForm input[name="${fieldName}"]`);
                const errorElement = document.getElementById(fieldName + 'ErrorQuote');

                if (isValid) {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' valid';
                    errorElement.style.display = 'none';
                } else {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' invalid';
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                }
            }

            updateCharCounter() {
                const messageField = document.querySelector('#quoteForm textarea[name="message"]');
                const charCounter = document.getElementById('charCounterQuote');
                const remaining = 500 - messageField.value.length;

                charCounter.textContent = `${remaining} characters remaining`;

                if (remaining < 50) {
                    charCounter.style.color = '#dc3545';
                } else if (remaining < 100) {
                    charCounter.style.color = '#ffc107';
                } else {
                    charCounter.style.color = '#666';
                }
            }

            async handleQuoteSubmission(e) {
                e.preventDefault();

                // Check honeypot
                if (document.querySelector('#quoteForm input[name="website"]').value !== '') {
                    return;
                }

                // Validate all fields
                const fields = ['name', 'email', 'phone'];
                let isFormValid = true;

                fields.forEach(fieldName => {
                    if (!this.validateQuoteField(fieldName)) {
                        isFormValid = false;
                    }
                });

                if (!isFormValid) {
                    return;
                }

                // Submit form
                const submitBtn = document.querySelector('.submit-quote-btn');
                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';

                try {
                    const formData = new FormData();
                    formData.append('name', document.querySelector('#quoteForm input[name="name"]').value);
                    formData.append('email', document.querySelector('#quoteForm input[name="email"]').value);
                    formData.append('phone', document.querySelector('#quoteForm select[name="country_code"]').value + document.querySelector('#quoteForm input[name="phone"]').value);
                    formData.append('quantity', document.querySelector('#quoteForm input[name="quantity"]').value || '1');
                    formData.append('message', document.querySelector('#quoteForm textarea[name="message"]').value);
                    formData.append('product_info', document.getElementById('selectedProduct').textContent);
                    formData.append('subject', 'Quote Request');
                    formData.append('_captcha', 'false');

                    await fetch('https://formsubmit.co/aashishtraderjcb@gmail.com', {
                        method: 'POST',
                        body: formData
                    });

                    // Show success message
                    let successMsg = document.querySelector('.success-message-quote');
                    if (!successMsg) {
                        successMsg = document.createElement('div');
                        successMsg.className = 'success-message-quote';
                        document.querySelector('.quote-body').insertBefore(successMsg, document.getElementById('quoteForm'));
                    }

                    successMsg.textContent = 'Quote request sent successfully!';
                    successMsg.style.display = 'block';

                    // Close modal after 2 seconds
                    setTimeout(() => {
                        this.closeQuoteModal();
                    }, 2000);

                } catch (error) {
                    alert('Failed to send quote request. Please try again.');
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Send Quote Request';
                }
            }

            filterByCategory(category) {
                // Update active button
                document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
                document.querySelector(`[data-category="${category}"]`).classList.add('active');

                this.currentCategory = category;
                this.renderProducts();
            }

            updateCategoryCounts() {
                // Update all products count
                document.getElementById('count-all').textContent = this.products.length;

                // Update category counts
                this.categories.forEach(category => {
                    const count = this.products.filter(product => product.category === category.id).length;
                    const countElement = document.getElementById(`count-${category.id}`);
                    if (countElement) {
                        countElement.textContent = count;
                    }
                });
            }
        }

        // Initialize the catalog when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.productCatalog = new ProductCatalog();
        });
    </script>

    /* JavaScript for Product Filtering and Contact Form */
    <script>
        class SecureContactForm {
            constructor() {
                this.form = document.getElementById('contactForm');
                this.submitBtn = document.getElementById('submitBtn');
                this.lastSubmitTime = 0;
                this.submitAttempts = 0;
                this.maxAttempts = 3;
                this.cooldownTime = 30000; // 30 seconds

                this.init();
            }

            init() {
                this.generateToken();
                this.setupEventListeners();
                this.detectCountry();
            }

            generateToken() {
                const token = Math.random().toString(36).substring(2) + Date.now().toString(36);
                document.getElementById('submitToken').value = token;
            }

            setupEventListeners() {
                // Form submission
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));

                // Real-time validation
                const fields = ['name', 'email', 'phone', 'message'];
                fields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.addEventListener('input', () => this.validateField(fieldId));
                    field.addEventListener('blur', () => this.validateField(fieldId));
                });

                // Country code validation
                document.getElementById('countrySelect').addEventListener('change', () => {
                    this.validateField('phone');
                });

                // Character counter for message
                const messageField = document.getElementById('message');
                messageField.addEventListener('input', () => this.updateCharCounter());
            }

            detectCountry() {
                fetch('https://ipapi.co/json/')
                    .then(response => response.json())
                    .then(data => {
                        const countryCode = data.country_calling_code;
                        const select = document.getElementById('countrySelect');
                        const option = select.querySelector(`option[value="${countryCode}"]`);
                        if (option) {
                            option.selected = true;
                        } else {
                            select.value = '+91';
                        }
                    })
                    .catch(() => {
                        document.getElementById('countrySelect').value = '+91';
                    });
            }

            updateCharCounter() {
                const messageField = document.getElementById('message');
                const charCounter = document.getElementById('charCounter');
                const remaining = 500 - messageField.value.length;

                charCounter.textContent = `${remaining} characters remaining`;

                if (remaining < 50) {
                    charCounter.className = 'char-counter danger';
                } else if (remaining < 100) {
                    charCounter.className = 'char-counter warning';
                } else {
                    charCounter.className = 'char-counter';
                }
            }

            validateField(fieldId) {
                const field = document.getElementById(fieldId);
                const value = field.value.trim();
                let isValid = true;
                let errorMessage = '';

                switch (fieldId) {
                    case 'name':
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Name is required';
                        } else if (value.length < 2) {
                            isValid = false;
                            errorMessage = 'Name must be at least 2 characters';
                        } else if (!/^[A-Za-z\s.'-]+$/.test(value)) {
                            isValid = false;
                            errorMessage = 'Name can only contain letters and spaces';
                        }
                        break;

                    case 'email':
                        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Email is required';
                        } else if (!emailRegex.test(value)) {
                            isValid = false;
                            errorMessage = 'Please enter a valid email (e.g., user@example.com)';
                        }
                        break;

                    case 'phone':
                        const countryCode = document.getElementById('countrySelect').value;
                        if (countryCode === '') {
                            isValid = false;
                            errorMessage = 'Please select a country code';
                        } else if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Phone number is required';
                        } else {
                            const phoneRegex = /^[0-9]{6,15}$/;
                            const cleanPhone = value.replace(/[\s\-\(\)]/g, '');
                            if (!phoneRegex.test(cleanPhone)) {
                                isValid = false;
                                errorMessage = 'Phone number must be 6-15 digits only';
                            }
                        }
                        break;

                    case 'message':
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Message is required';
                        } else if (value.length < 10) {
                            isValid = false;
                            errorMessage = 'Message must be at least 10 characters';
                        } else if (value.length > 500) {
                            isValid = false;
                            errorMessage = 'Message must be less than 500 characters';
                        }
                        break;
                }

                this.showValidationState(fieldId, isValid, errorMessage);
                return isValid;
            }

            showValidationState(fieldId, isValid, errorMessage) {
                const field = document.getElementById(fieldId);
                const errorElement = document.getElementById(fieldId + 'Error');

                if (isValid) {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' valid';
                    errorElement.style.display = 'none';
                } else {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' invalid';
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                }
            }

            async handleSubmit(e) {
                e.preventDefault();

                // Check honeypot
                if (document.querySelector('input[name="website"]').value !== '') {
                    return;
                }

                // Validate all fields
                const fields = ['name', 'email', 'phone', 'message'];
                let isFormValid = true;

                fields.forEach(fieldId => {
                    if (!this.validateField(fieldId)) {
                        isFormValid = false;
                    }
                });

                if (!isFormValid) {
                    return;
                }

                // Submit form
                this.submitBtn.disabled = true;
                this.submitBtn.textContent = 'Sending...';

                try {
                    const formData = new FormData();
                    formData.append('name', document.getElementById('name').value);
                    formData.append('email', document.getElementById('email').value);
                    formData.append('phone', document.getElementById('countrySelect').value + document.getElementById('phone').value);
                    formData.append('subject', document.getElementById('subject').value || 'Contact Form');
                    formData.append('message', document.getElementById('message').value);
                    formData.append('_captcha', 'false');

                    await fetch('https://formsubmit.co/aashishtraderjcb@gmail.com', {
                        method: 'POST',
                        body: formData
                    });

                    // Show success
                    document.getElementById('successMessage').style.display = 'block';
                    this.form.reset();
                    this.updateCharCounter();

                } catch (error) {
                    alert('Failed to send message. Please try again.');
                } finally {
                    this.submitBtn.disabled = false;
                    this.submitBtn.textContent = 'Send Message';
                }
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new SecureContactForm();
        });
    </script>
    <!-- Quote Form Overlay -->
    <div class="quote-overlay" id="quoteOverlay">
        <div class="quote-modal">
            <div class="quote-header">
                <h3>Request Quote</h3>
                <button type="button" class="close-btn" id="closeQuote">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="quote-body">
                <div class="selected-product" id="selectedProduct">
                    <!-- Product info will be inserted here -->
                </div>

                <div class="success-message-quote">
                    Quote request sent successfully!
                </div>

                <form id="quoteForm" class="quote-form" novalidate>
                    <!-- Security fields -->
                    <input type="text" name="website" style="display: none;" tabindex="-1">
                    <input type="hidden" name="token" value="">

                    <div class="form-group">
                        <input type="text" name="name" placeholder="Your Name *" required>
                        <div class="error-message-quote" id="nameErrorQuote"></div>
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Your Email *" required>
                        <div class="error-message-quote" id="emailErrorQuote"></div>
                    </div>
                    <div class="form-group">
                        <div class="phone-group">
                            <select name="country_code" required>
                                <option value="">Select</option>
                                <option value="+91">ðŸ‡®ðŸ‡³ +91</option>
                                <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
                                <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
                                <option value="+86">ðŸ‡¨ðŸ‡³ +86</option>
                                <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
                                <option value="+49">ðŸ‡©ðŸ‡ª +49</option>
                                <option value="+33">ðŸ‡«ðŸ‡· +33</option>
                                <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
                                <option value="+971">ðŸ‡¦ðŸ‡ª +971</option>
                                <option value="+966">ðŸ‡¸ðŸ‡¦ +966</option>
                            </select>
                            <input type="tel" name="phone" placeholder="WhatsApp Number *" required>
                        </div>
                        <div class="error-message-quote" id="phoneErrorQuote"></div>
                    </div>
                    <div class="form-group">
                        <input type="number" name="quantity" placeholder="Quantity" min="1">
                    </div>
                    <div class="form-group">
                        <textarea name="message" placeholder="Additional Requirements" rows="4"
                            maxlength="500"></textarea>
                        <div class="char-counter" id="charCounterQuote">500 characters remaining</div>
                    </div>
                    <button type="submit" class="submit-quote-btn">Send Quote Request</button>
                </form>
            </div>
        </div>
    </div>


</body>
<script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js" type="module"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"></script>

</html>