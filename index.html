<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heavy Equipment & JCB Spare Parts Supplier | Global Parts Export</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&family=Sora:wght@100..800&family=Teko:wght@300..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css" />
    <Link rel="stylesheet" href="css/media.css" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
</head>

<body class="bg-light">
    <header class="container-fluid ">
        <div class="container px-3">

            <nav class="navbar navbar-expand-md"
                style="background: linear-gradient(135deg, rgba(20, 174, 92, 0.5), rgba(13, 125, 66, 0.5)); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(12px); box-shadow: 0 4px 6px 0 rgba(0, 0, 0, 0.25); border-radius: 12px;">
                <div class="container-fluid">

                    <a class="navbar-brand" href="#">
                        <img src="media/Logo.png" alt="logo" class="img-fluid" style="max-height: 50px;">
                    </a>


                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>


                    <div class="collapse navbar-collapse" id="navbarContent">
                        <ul class="navbar-nav mx-auto mb-lg-0 gap-lg-3 text-center">
                            <li class="nav-item">
                                <a class="nav-link fs-4 " href="#home">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fs-4" href="#about">About Us</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fs-4" href="#products">Products</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link fs-4" href="#contact">Contact</a>
                            </li>
                        </ul>
                        <div class="d-flex justify-content-center mt-lg-0">
                            <button class="NAVBTN">Get a Quote</button>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <section class="hero-section align-items-center position-relative" id="home">
        <div class="container">
            <div class="row">
                <!-- Left Content Box -->
                <div class="col-md-6 text-white hero-text">
                    <h1 class="title">Global Supplier of Genuine & Aftermarket JCB Spare Parts</h1>
                    <p class="SUBTITLE">Reliable JCB parts for 3DX, 4DX, backhoe loaders, and excavators shipped
                        worldwide.
                        Find hydraulic pumps, engine parts, filters, and more with ease.</p>
                    <button class="buttonhero mt-1" onclick="window.open('Products.html', '_blank')">Our
                        Products</button>
                </div>
            </div>
        </div>

        <!-- Center Overlapping Box -->
        <div class="center-box">
            <div class="feature-item">
                <div class="feature-icon">
                    <img src="media/star.png" alt="Premium Quality Icon">
                </div>
                <p class="feature-text">100% Premium Quality</p>
            </div>

            <div class="feature-item">
                <div class="feature-icon">
                    <img src="media/globe.png" alt="Global Supply Icon">
                </div>
                <p class="feature-text">Global Supply</p>
            </div>

            <div class="feature-item">
                <div class="feature-icon">
                    <img src="media/sheild.png" alt="Genuine & Verified Icon">
                </div>
                <p class="feature-text">100% Genuine & Verified</p>
            </div>
        </div>


    </section>
    <section id="products" class="product-section py-5 bg-light">
        <div class="container text-center d-flex flex-column align-items-center">
            <h2 class="mb-4">JCB Spare Parts Browse & Request Quote</h2>
            <h5 class="mb-3 text-muted">Featured Products</h5>

            <!-- Products Grid -->
            <div class="row justify-content-center" id="productGrid">
                <!-- Product Card -->
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4 product-card d-flex justify-content-center">
                    <div class="card custom-card">
                        <div class="image-container">
                            <img src="media/PRODUCTIMAGES/JCB.png" alt="Hydraulic Rock Breaker">
                        </div>
                        <div class="card-content ">

                            <h5 class="product-title">Hydraulic Rock Breaker SB43sa</h5>
                            <div class="material">
                                <span class="label">Material:</span> High-strength alloy steel
                            </div>
                            <div class="application">
                                <span class="label">Application:</span> Mid-duty breaker for JCB backhoe and excavator
                                models
                            </div>
                            <div class="card-footer-custom">
                                <button class="NAVBTN">Request Quotes</button>
                                <span class="stock-badge">
                                    <i class="fa-solid fa-inbox"></i>In stock

                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4 product-card d-flex justify-content-center">
                    <div class="card custom-card">
                        <div class="image-container">
                            <img src="media/PRODUCTIMAGES/JCB.png" alt="Hydraulic Rock Breaker">
                        </div>
                        <div class="card-content ">

                            <h5 class="product-title">Hydraulic Rock Breaker SB43sa</h5>
                            <div class="material">
                                <span class="label">Material:</span> High-strength alloy steel
                            </div>
                            <div class="application">
                                <span class="label">Application:</span> Mid-duty breaker for JCB backhoe and excavator
                                models
                            </div>
                            <div class="card-footer-custom">
                                <button class="NAVBTN">Request Quotes</button>
                                <span class="stock-badge">
                                    <i class="fa-solid fa-inbox"></i>In stock

                                </span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4 product-card d-flex justify-content-center">
                    <div class="card custom-card">
                        <div class="image-container">
                            <img src="media/PRODUCTIMAGES/JCB.png" alt="Hydraulic Rock Breaker">
                        </div>
                        <div class="card-content ">

                            <h5 class="product-title">Hydraulic Rock Breaker SB43sa</h5>
                            <div class="material">
                                <span class="label">Material:</span> High-strength alloy steel
                            </div>
                            <div class="application">
                                <span class="label">Application:</span> Mid-duty breaker for JCB backhoe and excavator
                                models
                            </div>
                            <div class="card-footer-custom">
                                <button class="NAVBTN">Request Quotes</button>
                                <span class="stock-badge">
                                    <i class="fa-solid fa-inbox"></i>In stock

                                </span>
                            </div>
                        </div>
                    </div>
                </div>



                <!-- Copy above card and change content/category for each item -->
                <!-- For example: -->

                <div class="d-flex justify-content-center">
                    <button class="button mt-4" onclick="window.open('Products.html', '_blank')">Load Our
                        Collection</button>
                </div>
    </section>
    <section id="about" class="py-5">
        <div class="container">
            <div class="row align-items-center justify-content-center">

                <!-- Text Column -->
                <div class="col-lg-5 col-md-12 mb-4 mb-lg-0 ">
                    <h2 class="history-title">Our History</h2>
                    <p class="history-text">
                        At Aashish Trader, our journey began as a small local supplier serving construction companies in
                        our community. Over the years, we’ve evolved into a trusted global distributor of high quality
                        construction machinery parts.
                    </p>
                    <p class="history-text">
                        We are driven by a mission to support builders worldwide with reliable service, durable
                        products, and a commitment to excellence. Our growth has been guided by our core values Quality,
                        Reliability, Customer Satisfaction, Integrity, and Global Reach, which remain at the heart of
                        everything we do.
                    </p>
                </div>

                <!-- Diagonal Split Image Column -->
                <div class="col-lg-5 col-md-12 d-flex justify-content-center d-lg-flex justify-content-lg-end">
                    <div class="history-image-container">
                        <div>
                            <img src="media/history image.png" alt="Warehouse">
                        </div>

                    </div>

                </div>
            </div>
    </section>




    <!-- Lottie Script -->
    <script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js" type="module"></script>


    <section class="container my-5">
        <h2 class="text-center fw-bold mb-4">Why choose us?</h2>

        <!-- Top Image -->
        <div class="value-image-container mb-4">
            <img src="media/valueimg.png" alt="Our Values" class="img-fluid w-100 rounded-4">
        </div>

        <!-- Subtitle -->
        <h3 class="fw-bold text-center mb-4">Our company Values</h3>

        <!-- Features in two centered columns -->
        <div class="row justify-content-center align-items-center">
            <div class="col-md-4 mb-3 d-flex align-items-center value-list">
                <dotlottie-wc src="https://lottie.host/a3ac1b83-3bce-4fec-979f-28d0bf0c6c7a/RIClp5XOd2.lottie"
                    style="width: 30px;height: 30px" speed="1" autoplay loop></dotlottie-wc>
                <span>Perfect Compatibility</span>
            </div>

            <div class="col-md-4 mb-3 d-flex align-items-center value-list">
                <dotlottie-wc src="https://lottie.host/a3ac1b83-3bce-4fec-979f-28d0bf0c6c7a/RIClp5XOd2.lottie"
                    style="width: 30px;height: 30px" speed="1" autoplay loop></dotlottie-wc>
                <span>Superior Quality</span>
            </div>

            <div class="col-md-4 mb-3 d-flex align-items-center value-list">
                <dotlottie-wc src="https://lottie.host/a3ac1b83-3bce-4fec-979f-28d0bf0c6c7a/RIClp5XOd2.lottie"
                    style="width: 30px;height: 30px" speed="1" autoplay loop></dotlottie-wc>
                <span>100% Genuine Parts</span>
            </div>

            <div class="col-md-4 mb-3 d-flex align-items-center value-list">
                <dotlottie-wc src="https://lottie.host/a3ac1b83-3bce-4fec-979f-28d0bf0c6c7a/RIClp5XOd2.lottie"
                    style="width: 30px;height: 30px" speed="1" autoplay loop></dotlottie-wc>
                <span>Extended Durability</span>
            </div>
            <div class="col-md-4 mb-3 d-flex align-items-center value-list">
                <dotlottie-wc src="https://lottie.host/a3ac1b83-3bce-4fec-979f-28d0bf0c6c7a/RIClp5XOd2.lottie"
                    style="width: 30px;height: 30px" speed="1" autoplay loop></dotlottie-wc>
                <span>Reliability</span>
            </div>
            <div class="col-md-4 mb-3 d-flex align-items-center value-list">
                <dotlottie-wc src="https://lottie.host/a3ac1b83-3bce-4fec-979f-28d0bf0c6c7a/RIClp5XOd2.lottie"
                    style="width: 30px;height: 30px" speed="1" autoplay loop></dotlottie-wc>
                <span>Trustworthiness</span>
            </div>
        </div>
    </section>



    <section class="bg-light py-5">
        <div class="container">
            <h2 class="text-center mb-4">What Our Clients Say</h2>
            <div id="testimonialCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="row justify-content-center">
                            <div class="col-md-5">
                                <div class="card-testimonial p-4 shadow-sm">
                                    <div class="quote-icon">
                                        <i class="fas fa-quote-left"></i>
                                    </div>
                                    <p class="testimonial-text">"Aashish Traders has been our go-to supplier for years.
                                        The parts are always genuine, and their quality never disappoints. Our machines
                                        run smoother than ever!"</p>
                                    <div class="author-section">
                                        <div class="author-avatar">
                                            <img src="media/avatar/a3.jpg" alt="Ramesh Yadav" class="avatar-img">
                                        </div>
                                        <div class="author-info">
                                            <h6 class="author-name">Ramesh Yadav</h6>
                                            <p class="author-designation">Equipment Manager</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="card-testimonial p-4 shadow-sm">
                                    <div class="quote-icon">
                                        <i class="fas fa-quote-left"></i>
                                    </div>
                                    <p class="testimonial-text">"I’m impressed with their quick delivery and
                                        professional service. The products are reliable, and we’ve seen a huge
                                        improvement in performance and lifespan."</p>
                                    <div class="author-section">
                                        <div class="author-avatar">
                                            <img src="media/avatar/a4.png" alt="Priya Construction" class="avatar-img">
                                        </div>
                                        <div class="author-info">
                                            <h6 class="author-name">Priya Construction</h6>
                                            <p class="author-designation">Construction Company</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="row justify-content-center">
                            <div class="col-md-5">
                                <div class="card-testimonial p-4 shadow-sm">
                                    <div class="quote-icon">
                                        <i class="fas fa-quote-left"></i>
                                    </div>
                                    <p class="testimonial-text">"Finding perfect compatibility for our equipment was a
                                        challenge until we discovered Aashish Traders. Every part fits like it’s made
                                        for us."
                                    </p>
                                    <div class="author-section">
                                        <div class="author-avatar">
                                            <img src="media/avatar/a1.jpg" alt="Arjun Equipments" class="avatar-img">
                                        </div>
                                        <div class="author-info">
                                            <h6 class="author-name">Arjun Equipments</h6>
                                            <p class="author-designation">Equipment Supplier</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="card-testimonial p-4 shadow-sm">
                                    <div class="quote-icon">
                                        <i class="fas fa-quote-left"></i>
                                    </div>
                                    <p class="testimonial-text">"Excellent service, top-notch quality, and honest
                                        pricing. They truly understand what construction companies need to keep moving
                                        forward."
                                    </p>
                                    <div class="author-section">
                                        <div class="author-avatar">
                                            <img src="media/avatar/a2.jpg" alt="M.S. Earth Movers" class="avatar-img">
                                        </div>
                                        <div class="author-info">
                                            <h6 class="author-name">M.S. Earth Movers</h6>
                                            <p class="author-designation">Fleet Owner</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <button class="carousel-control-prev" type="button" data-bs-target="#testimonialCarousel"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#testimonialCarousel"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon"></span>
                </button>
            </div>
        </div>
    </section>

    <!-- Contact & Map Section -->
    <section class="bg-white py-5" id="contact">
        <div class="container">
            <div class="row g-4 contact-row">
                <!-- Map -->
                <div class="col-md-6 map-container">
                    <iframe src="https://www.google.com/maps?q=Your+Shop+Location&output=embed" allowfullscreen
                        loading="lazy"></iframe>
                </div>

                <!-- Contact Form -->
                <div class="col-md-6 form-container">
                    <div>
                        <h2 style="color: white; text-align: center; margin-bottom: 0.5rem; font-weight: bold;">
                            Drop Us A Line
                        </h2>
                        <p style="color: white; text-align: center; margin-bottom: 2rem; opacity: 0.9;">
                            Contact us for any questions or get Quote
                        </p>

                        <div class="success-message" id="successMessage">
                            Thank you! Your message has been sent successfully.
                        </div>

                        <form id="contactForm" novalidate>
                            <!-- Honeypot for bot protection -->
                            <input type="text" name="website" style="display: none;" tabindex="-1">

                            <!-- Name Field -->
                            <input type="text" id="name" name="name" class="form-control" placeholder="Name *" required
                                maxlength="50">
                            <div class="error-message" id="nameError"></div>

                            <!-- Email Field -->
                            <input type="email" id="email" name="email" class="form-control" placeholder="Email *"
                                required maxlength="100">
                            <div class="error-message" id="emailError"></div>

                            <!-- Phone Field with Country Code -->
                            <div class="input-group">
                                <select name="country_code" id="countrySelect" class="country-select" required>
                                    <option value="">Select</option>
                                    <option value="+91">🇮🇳 +91</option>
                                    <option value="+1">🇺🇸 +1</option>
                                    <option value="+44">🇬🇧 +44</option>
                                    <option value="+86">🇨🇳 +86</option>
                                    <option value="+81">🇯🇵 +81</option>
                                    <option value="+49">🇩🇪 +49</option>
                                    <option value="+33">🇫🇷 +33</option>
                                    <option value="+61">🇦🇺 +61</option>
                                    <option value="+971">🇦🇪 +971</option>
                                    <option value="+966">🇸🇦 +966</option>
                                </select>
                                <input type="tel" id="phone" name="phone" class="form-control phone-input"
                                    placeholder="WhatsApp Number *" required maxlength="15">
                            </div>
                            <div class="error-message" id="phoneError"></div>

                            <!-- Subject Field -->
                            <input type="text" id="subject" name="subject" class="form-control" placeholder="Subject"
                                maxlength="100">

                            <!-- Message Field -->
                            <textarea id="message" name="message" class="form-control" rows="4" placeholder="Message *"
                                required maxlength="500" style="resize: vertical;"></textarea>
                            <div class="char-counter" id="charCounter">500 characters remaining</div>
                            <div class="error-message" id="messageError"></div>

                            <input type="hidden" id="submitToken" name="token" value="">
                        </form>
                    </div>

                    <!-- Submit button -->
                    <div style="text-align: center; margin-top: auto;">
                        <button type="submit" form="contactForm" class="custom-submit-btn" id="submitBtn">
                            Send Message
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Section -->
    <footer class=" Footer py-5 bg-dark text-white">
        <div class="container">
            <div class="row gy-4">
                <div class="col-md-3">
                    <h5>Avinash Traders</h5>
                    <p>Your trusted partner in JCB spare parts and construction equipment solutions.</p>
                    <p><strong>🇮🇳 India Office Corporate HQ</strong><br>No. 28, Industrial Estate Road, Sector 37,
                        Gurugram, Haryana – 122001, India</p>
                    <p>Tel: +91 (0)98765 43210</p>
                    <p>Email: info@Avinashspares.com</p>
                </div>
                <div class="col-md-3">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#home" class="text-light text-decoration-none">Home</a></li>
                        <li><a href="#testimony" class="text-light text-decoration-none">Testimony</a></li>
                        <li><a href="#about" class="text-light text-decoration-none">About us</a></li>
                        <li><a href="#contact" class="text-light text-decoration-none">Contact us</a></li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Products</h5>
                    <ul class="list-unstyled">
                        <li>Hydraulic Attachments</li>
                        <li>Breaker Tools</li>
                        <li>Undercarriage Parts</li>
                        <li>Heavy-Duty</li>
                    </ul>
                </div>
                <div class="col-md-3">
                    <h5>Connect with us</h5>
                    <p>Tel: +91 (0)98765 43210</p>
                    <div class="social-links mt-3">
                        <a href="https://facebook.com/yourpage" target="_blank" class="social-icon">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>


    <script>
        class SecureContactForm {
            constructor() {
                this.form = document.getElementById('contactForm');
                this.submitBtn = document.getElementById('submitBtn');
                this.lastSubmitTime = 0;
                this.submitAttempts = 0;
                this.maxAttempts = 3;
                this.cooldownTime = 30000; // 30 seconds

                this.init();
            }

            init() {
                this.generateToken();
                this.setupEventListeners();
                this.detectCountry();
            }

            generateToken() {
                const token = Math.random().toString(36).substring(2) + Date.now().toString(36);
                document.getElementById('submitToken').value = token;
            }

            setupEventListeners() {
                // Form submission
                this.form.addEventListener('submit', (e) => this.handleSubmit(e));

                // Real-time validation
                const fields = ['name', 'email', 'phone', 'message'];
                fields.forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    field.addEventListener('input', () => this.validateField(fieldId));
                    field.addEventListener('blur', () => this.validateField(fieldId));
                });

                // Country code validation
                document.getElementById('countrySelect').addEventListener('change', () => {
                    this.validateField('phone');
                });

                // Character counter for message
                const messageField = document.getElementById('message');
                messageField.addEventListener('input', () => this.updateCharCounter());
            }

            detectCountry() {
                fetch('https://ipapi.co/json/')
                    .then(response => response.json())
                    .then(data => {
                        const countryCode = data.country_calling_code;
                        const select = document.getElementById('countrySelect');
                        const option = select.querySelector(`option[value="${countryCode}"]`);
                        if (option) {
                            option.selected = true;
                        } else {
                            select.value = '+91';
                        }
                    })
                    .catch(() => {
                        document.getElementById('countrySelect').value = '+91';
                    });
            }

            updateCharCounter() {
                const messageField = document.getElementById('message');
                const charCounter = document.getElementById('charCounter');
                const remaining = 500 - messageField.value.length;

                charCounter.textContent = `${remaining} characters remaining`;

                if (remaining < 50) {
                    charCounter.className = 'char-counter danger';
                } else if (remaining < 100) {
                    charCounter.className = 'char-counter warning';
                } else {
                    charCounter.className = 'char-counter';
                }
            }

            validateField(fieldId) {
                const field = document.getElementById(fieldId);
                const value = field.value.trim();
                let isValid = true;
                let errorMessage = '';

                switch (fieldId) {
                    case 'name':
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Name is required';
                        } else if (value.length < 2) {
                            isValid = false;
                            errorMessage = 'Name must be at least 2 characters';
                        } else if (!/^[A-Za-z\s.'-]+$/.test(value)) {
                            isValid = false;
                            errorMessage = 'Name can only contain letters and spaces';
                        }
                        break;

                    case 'email':
                        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Email is required';
                        } else if (!emailRegex.test(value)) {
                            isValid = false;
                            errorMessage = 'Please enter a valid email (e.g., user@example.com)';
                        }
                        break;

                    case 'phone':
                        const countryCode = document.getElementById('countrySelect').value;
                        if (countryCode === '') {
                            isValid = false;
                            errorMessage = 'Please select a country code';
                        } else if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Phone number is required';
                        } else {
                            const phoneRegex = /^[0-9]{6,15}$/;
                            const cleanPhone = value.replace(/[\s\-\(\)]/g, '');
                            if (!phoneRegex.test(cleanPhone)) {
                                isValid = false;
                                errorMessage = 'Phone number must be 6-15 digits only';
                            }
                        }
                        break;

                    case 'message':
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Message is required';
                        } else if (value.length < 10) {
                            isValid = false;
                            errorMessage = 'Message must be at least 10 characters';
                        } else if (value.length > 500) {
                            isValid = false;
                            errorMessage = 'Message must be less than 500 characters';
                        }
                        break;
                }

                this.showValidationState(fieldId, isValid, errorMessage);
                return isValid;
            }

            showValidationState(fieldId, isValid, errorMessage) {
                const field = document.getElementById(fieldId);
                const errorElement = document.getElementById(fieldId + 'Error');

                if (isValid) {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' valid';
                    errorElement.style.display = 'none';
                } else {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' invalid';
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                }
            }

            async handleSubmit(e) {
                e.preventDefault();

                // Check honeypot
                if (document.querySelector('input[name="website"]').value !== '') {
                    return;
                }

                // Validate all fields
                const fields = ['name', 'email', 'phone', 'message'];
                let isFormValid = true;

                fields.forEach(fieldId => {
                    if (!this.validateField(fieldId)) {
                        isFormValid = false;
                    }
                });

                if (!isFormValid) {
                    return;
                }

                // Submit form
                this.submitBtn.disabled = true;
                this.submitBtn.textContent = 'Sending...';

                try {
                    const formData = new FormData();
                    formData.append('name', document.getElementById('name').value);
                    formData.append('email', document.getElementById('email').value);
                    formData.append('phone', document.getElementById('countrySelect').value + document.getElementById('phone').value);
                    formData.append('subject', document.getElementById('subject').value || 'Contact Form');
                    formData.append('message', document.getElementById('message').value);
                    formData.append('_captcha', 'false');

                    await fetch('https://formsubmit.co/aashishtraderjcb@gmail.com', {
                        method: 'POST',
                        body: formData
                    });

                    // Show success
                    document.getElementById('successMessage').style.display = 'block';
                    this.form.reset();
                    this.updateCharCounter();

                } catch (error) {
                    alert('Failed to send message. Please try again.');
                } finally {
                    this.submitBtn.disabled = false;
                    this.submitBtn.textContent = 'Send Message';
                }
            }
        }

        // Quote Modal Functionality
        class QuoteModal {
            constructor() {
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.initQuoteForm();
            }

            setupEventListeners() {
                // Quote button functionality
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('NAVBTN') || e.target.closest('.NAVBTN')) {
                        const productCard = e.target.closest('.product-card');
                        if (productCard) {
                            e.preventDefault();
                            this.openQuoteModal(productCard);
                        }
                    }

                    // Close quote modal
                    if (e.target.id === 'closeQuote' || e.target.closest('#closeQuote')) {
                        this.closeQuoteModal();
                    }

                    // Close on overlay click
                    if (e.target.id === 'quoteOverlay') {
                        this.closeQuoteModal();
                    }
                });

                // Handle "Get a Quote" button in navbar
                document.querySelectorAll('.NAVBTN').forEach(btn => {
                    if (btn.textContent.trim() === 'Get a Quote') {
                        btn.addEventListener('click', (e) => {
                            e.preventDefault();
                            this.openQuoteModal(null);
                        });
                    }
                });
            }

            openQuoteModal(productCard) {
                const selectedProduct = document.getElementById('selectedProduct');

                if (productCard) {
                    // Product-specific quote
                    const title = productCard.querySelector('.product-title').textContent;
                    const material = productCard.querySelector('.material').textContent;
                    const application = productCard.querySelector('.application').textContent;

                    selectedProduct.innerHTML = `
                <h4>${title}</h4>
                <p><strong>Material:</strong> ${material.replace('Material:', '').trim()}</p>
                <p><strong>Application:</strong> ${application.replace('Application:', '').trim()}</p>
            `;
                } else {
                    // General quote request
                    selectedProduct.innerHTML = `
                <h4>General Quote Request</h4>
                <p>Please fill out the form below for a custom quote on our JCB spare parts.</p>
            `;
                }

                document.getElementById('quoteOverlay').classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            closeQuoteModal() {
                document.getElementById('quoteOverlay').classList.remove('active');
                document.body.style.overflow = 'auto';
                document.getElementById('quoteForm').reset();

                // Clear any error messages
                document.querySelectorAll('.error-message-quote').forEach(el => {
                    el.style.display = 'none';
                });

                // Hide success message
                const successMsg = document.querySelector('.success-message-quote');
                if (successMsg) {
                    successMsg.style.display = 'none';
                }
            }

            initQuoteForm() {
                this.generateToken();
                this.setupQuoteValidation();
                this.detectCountry();

                // Form submission
                document.getElementById('quoteForm').addEventListener('submit', (e) => {
                    this.handleQuoteSubmission(e);
                });
            }

            generateToken() {
                const token = Math.random().toString(36).substring(2) + Date.now().toString(36);
                const tokenField = document.querySelector('#quoteForm input[name="token"]');
                if (tokenField) {
                    tokenField.value = token;
                }
            }

            detectCountry() {
                fetch('https://ipapi.co/json/')
                    .then(response => response.json())
                    .then(data => {
                        const countryCode = data.country_calling_code;
                        const select = document.querySelector('#quoteForm select[name="country_code"]');
                        const option = select.querySelector(`option[value="${countryCode}"]`);
                        if (option) {
                            option.selected = true;
                        } else {
                            select.value = '+91';
                        }
                    })
                    .catch(() => {
                        document.querySelector('#quoteForm select[name="country_code"]').value = '+91';
                    });
            }

            setupQuoteValidation() {
                const fields = ['name', 'email', 'phone'];
                fields.forEach(fieldName => {
                    const field = document.querySelector(`#quoteForm input[name="${fieldName}"]`);
                    if (field) {
                        field.addEventListener('input', () => this.validateQuoteField(fieldName));
                        field.addEventListener('blur', () => this.validateQuoteField(fieldName));
                    }
                });

                // Country code validation
                document.querySelector('#quoteForm select[name="country_code"]').addEventListener('change', () => {
                    this.validateQuoteField('phone');
                });

                // Message character counter
                const messageField = document.querySelector('#quoteForm textarea[name="message"]');
                if (messageField) {
                    messageField.addEventListener('input', () => this.updateCharCounterQuote());
                }
            }

            validateQuoteField(fieldName) {
                const field = document.querySelector(`#quoteForm input[name="${fieldName}"]`);
                const value = field.value.trim();
                let isValid = true;
                let errorMessage = '';

                switch (fieldName) {
                    case 'name':
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Name is required';
                        } else if (value.length < 2) {
                            isValid = false;
                            errorMessage = 'Name must be at least 2 characters';
                        } else if (!/^[A-Za-z\s.'-]+$/.test(value)) {
                            isValid = false;
                            errorMessage = 'Name can only contain letters and spaces';
                        }
                        break;

                    case 'email':
                        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                        if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Email is required';
                        } else if (!emailRegex.test(value)) {
                            isValid = false;
                            errorMessage = 'Please enter a valid email';
                        }
                        break;

                    case 'phone':
                        const countryCode = document.querySelector('#quoteForm select[name="country_code"]').value;
                        if (countryCode === '') {
                            isValid = false;
                            errorMessage = 'Please select a country code';
                        } else if (value.length === 0) {
                            isValid = false;
                            errorMessage = 'Phone number is required';
                        } else {
                            const phoneRegex = /^[0-9]{6,15}$/;
                            const cleanPhone = value.replace(/[\s\-\(\)]/g, '');
                            if (!phoneRegex.test(cleanPhone)) {
                                isValid = false;
                                errorMessage = 'Phone number must be 6-15 digits only';
                            }
                        }
                        break;
                }

                this.showQuoteValidationState(fieldName, isValid, errorMessage);
                return isValid;
            }

            showQuoteValidationState(fieldName, isValid, errorMessage) {
                const field = document.querySelector(`#quoteForm input[name="${fieldName}"]`);
                const errorElement = document.getElementById(fieldName + 'ErrorQuote');

                if (isValid) {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' valid';
                    errorElement.style.display = 'none';
                } else {
                    field.className = field.className.replace(/\b(valid|invalid)\b/g, '') + ' invalid';
                    errorElement.textContent = errorMessage;
                    errorElement.style.display = 'block';
                }
            }

            updateCharCounterQuote() {
                const messageField = document.querySelector('#quoteForm textarea[name="message"]');
                const charCounter = document.getElementById('charCounterQuote');
                const remaining = 500 - messageField.value.length;

                charCounter.textContent = `${remaining} characters remaining`;

                if (remaining < 50) {
                    charCounter.style.color = '#dc3545';
                } else if (remaining < 100) {
                    charCounter.style.color = '#ffc107';
                } else {
                    charCounter.style.color = '#666';
                }
            }

            async handleQuoteSubmission(e) {
                e.preventDefault();

                // Check honeypot
                if (document.querySelector('#quoteForm input[name="website"]').value !== '') {
                    return;
                }

                // Validate all fields
                const fields = ['name', 'email', 'phone'];
                let isFormValid = true;

                fields.forEach(fieldName => {
                    if (!this.validateQuoteField(fieldName)) {
                        isFormValid = false;
                    }
                });

                if (!isFormValid) {
                    return;
                }

                // Submit form
                const submitBtn = document.querySelector('.submit-quote-btn');
                submitBtn.disabled = true;
                submitBtn.textContent = 'Sending...';

                try {
                    const formData = new FormData();
                    formData.append('name', document.querySelector('#quoteForm input[name="name"]').value);
                    formData.append('email', document.querySelector('#quoteForm input[name="email"]').value);
                    formData.append('phone', document.querySelector('#quoteForm select[name="country_code"]').value + document.querySelector('#quoteForm input[name="phone"]').value);
                    formData.append('quantity', document.querySelector('#quoteForm input[name="quantity"]').value || '1');
                    formData.append('message', document.querySelector('#quoteForm textarea[name="message"]').value);
                    formData.append('product_info', document.getElementById('selectedProduct').textContent);
                    formData.append('subject', 'Quote Request');
                    formData.append('_captcha', 'false');

                    await fetch('https://formsubmit.co/aashishtraderjcb@gmail.com', {
                        method: 'POST',
                        body: formData
                    });

                    // Show success message
                    let successMsg = document.querySelector('.success-message-quote');
                    if (!successMsg) {
                        successMsg = document.createElement('div');
                        successMsg.className = 'success-message-quote';
                        document.querySelector('.quote-body').insertBefore(successMsg, document.getElementById('quoteForm'));
                    }

                    successMsg.textContent = 'Quote request sent successfully!';
                    successMsg.style.display = 'block';

                    // Close modal after 2 seconds
                    setTimeout(() => {
                        this.closeQuoteModal();
                    }, 2000);

                } catch (error) {
                    alert('Failed to send quote request. Please try again.');
                } finally {
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Send Quote Request';
                }
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            new SecureContactForm();
            new QuoteModal();
        });
    </script>
    <!-- Quote Form Overlay -->
    <div class="quote-overlay" id="quoteOverlay">
        <div class="quote-modal">
            <div class="quote-header">
                <h3>Request Quote</h3>
                <button type="button" class="close-btn" id="closeQuote">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="quote-body">
                <div class="selected-product" id="selectedProduct">
                    <!-- Product info will be inserted here -->
                </div>

                <div class="success-message-quote">
                    Quote request sent successfully!
                </div>

                <form id="quoteForm" class="quote-form" novalidate>
                    <!-- Security fields -->
                    <input type="text" name="website" style="display: none;" tabindex="-1">
                    <input type="hidden" name="token" value="">

                    <div class="form-group">
                        <input type="text" name="name" placeholder="Your Name *" required>
                        <div class="error-message-quote" id="nameErrorQuote"></div>
                    </div>
                    <div class="form-group">
                        <input type="email" name="email" placeholder="Your Email *" required>
                        <div class="error-message-quote" id="emailErrorQuote"></div>
                    </div>
                    <div class="form-group">
                        <div class="phone-group">
                            <select name="country_code" required>
                                <option value="">Select</option>
                                <option value="+91">🇮🇳 +91</option>
                                <option value="+1">🇺🇸 +1</option>
                                <option value="+44">🇬🇧 +44</option>
                                <option value="+86">🇨🇳 +86</option>
                                <option value="+81">🇯🇵 +81</option>
                                <option value="+49">🇩🇪 +49</option>
                                <option value="+33">🇫🇷 +33</option>
                                <option value="+61">🇦🇺 +61</option>
                                <option value="+971">🇦🇪 +971</option>
                                <option value="+966">🇸🇦 +966</option>
                            </select>
                            <input type="tel" name="phone" placeholder="WhatsApp Number *" required>
                        </div>
                        <div class="error-message-quote" id="phoneErrorQuote"></div>
                    </div>
                    <div class="form-group">
                        <input type="number" name="quantity" placeholder="Quantity" min="1">
                    </div>
                    <div class="form-group">
                        <textarea name="message" placeholder="Additional Requirements" rows="4"
                            maxlength="500"></textarea>
                        <div class="char-counter" id="charCounterQuote">500 characters remaining</div>
                    </div>
                    <button type="submit" class="submit-quote-btn">Send Quote Request</button>
                </form>
            </div>
        </div>
    </div>


</body>
<script src="https://unpkg.com/@lottiefiles/dotlottie-wc@0.6.2/dist/dotlottie-wc.js" type="module"></script>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"></script>

</html>